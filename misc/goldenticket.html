<!DOCTYPE html>
<html lang="pt-PT" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BE WATER | Golden Ticket de Natal</title>
    <meta name="description" content="O presente de Natal definitivo. 3 Aulas. 1 Experi√™ncia Exclusiva. Acesso total ao Be Water Lisboa.">
    
    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="../src/images/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../src/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../src/images/favicon/favicon-16x16.png">
    <link rel="manifest" href="../src/images/favicon/site.webmanifest">
    <link rel="shortcut icon" href="../src/images/favicon/favicon.ico">

    <!-- Main Site CSS -->
    <link rel="stylesheet" href="../src/css/styles.css">

    <!-- Google Fonts: Work Sans & Space Mono (Official Fonts) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400&family=Work+Sans:wght@500;700;900&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS (Prototyping) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            black: '#000000',     // Official Black
                            gold: '#FFD700',      // Official Accent
                            white: '#FFFFFF',
                            gray: '#666666',
                            darkGray: '#222222',
                        }
                    },
                    fontFamily: {
                        sans: ['"Space Mono"', 'monospace'], // Body font
                        display: ['"Work Sans"', 'sans-serif'], // Heading font
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'shake': 'shake 3s ease-in-out infinite',
                        'blink': 'blink 1.5s step-end infinite',
                        'blink-delayed': 'blink 1.5s step-end infinite 0.75s',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-20px)' },
                        },
                        shake: {
                            '0%, 100%': { transform: 'rotate(12deg)' },
                            '50%': { transform: 'rotate(16deg)' },
                        },
                        blink: {
                            '0%, 100%': { opacity: '1' },
                            '50%': { opacity: '0.3' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        /* Override Tailwind base to match site identity */
        body {
            font-family: 'Space Mono', monospace;
        }
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Work Sans', sans-serif;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: -0.02em;
        }
        
        /* Brutalist Borders */
        .brutal-border {
            border: 4px solid #000;
            box-shadow: 8px 8px 0 #000;
        }
        .brutal-btn:hover {
            transform: translate(-4px, -4px);
            box-shadow: 12px 12px 0 #000;
        }
        .brutal-btn:active {
            transform: translate(0, 0);
            box-shadow: 4px 4px 0 #000;
        }
    </style>
</head>
<body class="bg-brand-black text-gray-300 antialiased selection:bg-brand-gold selection:text-black overflow-x-hidden">

    <!-- 1. Header / Nav -->
    <nav class="absolute top-0 left-0 w-full p-6 z-50">
        <div class="container mx-auto flex justify-between items-center">
            <!-- Logo Placeholder -->
            <div class="text-white font-display font-black text-3xl tracking-tighter border-l-8 border-brand-gold pl-4 uppercase">
                Be Water
            </div>
            
            <!-- Brutalist Christmas Tree (Top Right Corner) -->
            <div class="absolute top-8 right-4 md:top-24 md:right-24 transform origin-top-right z-50 animate-shake">
                <svg viewBox="0 -20 100 160" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-[120px] h-[160px] md:w-[150px] md:h-[200px]">
                    <!-- Geometric Tree Segments -->
                    <path d="M50 10 L20 50 L80 50 Z" fill="#FFD700" stroke="white" stroke-width="3" />
                    <path d="M50 35 L10 90 L90 90 Z" fill="transparent" stroke="#FFD700" stroke-width="3" />
                    <path d="M50 65 L0 130 L100 130 Z" fill="white" stroke="#FFD700" stroke-width="3" />
                    
                    <!-- Brutalist Star (Floating Above Tree) -->
                    <path d="M50 -10 L53 -1 L62 -1 L55 5 L57 14 L50 9 L43 14 L45 5 L38 -1 L47 -1 Z" fill="#FFD700" stroke="white" stroke-width="1" class="animate-blink" />
                    
                    <!-- Decoration - Barbell Plates (Blinking Lights) -->
                    <circle cx="20" cy="130" r="6" fill="#FF0000" stroke="black" stroke-width="2" class="animate-blink" />
                    <circle cx="80" cy="130" r="6" fill="#00FF00" stroke="black" stroke-width="2" class="animate-blink-delayed" />
                    <circle cx="50" cy="90" r="6" fill="#0000FF" stroke="white" stroke-width="2" class="animate-blink" />
                    
                    <!-- More Balls (Reduced in Top Triangle) -->
                    <circle cx="40" cy="40" r="5" fill="#FF00FF" stroke="black" stroke-width="2" class="animate-blink-delayed" />
                    <circle cx="60" cy="40" r="5" fill="#00FFFF" stroke="black" stroke-width="2" class="animate-blink" />
                </svg>
            </div>
        </div>
    </nav>

    <!-- 2. Hero Section -->
    <section class="relative min-h-screen flex items-center justify-center overflow-hidden pt-20 md:pt-0">
        <!-- Background Image & Overlay -->
        <div class="absolute inset-0 z-0">
            <video autoplay loop muted playsinline class="w-full h-full object-cover opacity-50 grayscale contrast-125">
                <source src="../src/images/general/hero2.m4v" type="video/mp4">
            </video>
            <div class="absolute inset-0 bg-gradient-to-b from-black/80 via-black/50 to-black"></div>
        </div>

        <!-- Content -->
        <div class="relative z-10 container mx-auto px-4 flex flex-col items-center text-center space-y-8">
            
            <!-- Floating Golden Ticket -->
            <div class="animate-float mb-8 relative">
                <!-- Glow Effect -->
                <div class="absolute inset-0 bg-brand-gold blur-3xl opacity-20 rounded-full"></div>
                
                <div class="relative transform rotate-[-5deg] hover:rotate-0 transition duration-500">
                    <img src="../src/images/general/images-optimized/VERSO_optimized.webp" 
                         alt="Golden Ticket Be Water - Bilhete Dourado F√≠sico" 
                         class="relative w-80 md:w-[550px] shadow-2xl drop-shadow-[0_20px_50px_rgba(255,215,0,0.15)]"
                         onerror="this.src='https://placehold.co/600x300/FFD700/000?text=GOLDEN+TICKET';">
                </div>
            </div>

            <!-- Headlines -->
            <div class="max-w-4xl mx-auto space-y-6">
                <h1 class="font-display text-6xl md:text-8xl lg:text-9xl font-black text-white uppercase leading-[0.85] tracking-tighter">
                    O Presente <br>
                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-brand-gold to-yellow-400 stroke-text">Definitivo</span>
                </h1>
                
                <p class="font-sans text-lg md:text-xl text-gray-400 max-w-xl mx-auto leading-relaxed">
                    <span class="text-brand-gold font-bold">/// 3 AULAS. 1 EXPERI√äNCIA.</span><br>
                    Acesso total ao Be Water Lisboa. Sem compromissos. Apenas treino puro.
                </p>
            </div>

            <!-- CTA -->
            <div class="pt-8 pb-12">
                <a href="#checkout" class="inline-block group">
                    <button class="bg-brand-gold text-black font-display font-black text-2xl md:text-3xl py-6 px-10 md:px-16 uppercase tracking-tight border-4 border-white hover:border-brand-gold transition-all duration-300 transform group-hover:-translate-y-2 shadow-[8px_8px_0px_rgba(255,255,255,0.2)] group-hover:shadow-[12px_12px_0px_rgba(255,215,0,1)]">
                        Garantir Ticket ‚Ä¢ 30‚Ç¨
                    </button>
                </a>
            </div>
        </div>
    </section>

    <!-- 3. Value Proposition (Brutalist Grid) -->
    <section class="py-24 bg-white text-black relative z-20">
        <div class="container mx-auto px-4">
            
            <div class="text-center mb-20">
                <h2 class="font-display text-4xl md:text-6xl font-black uppercase mb-4 leading-none">
                    Esquece as meias. <br>
                    <span class="text-stroke-black text-transparent bg-clip-text bg-gradient-to-b from-brand-black to-gray-800" style="-webkit-text-stroke: 2px black; color: transparent;">Oferece Supera√ß√£o.</span>
                </h2>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-7xl mx-auto">
                <!-- Feature 1 -->
                <div class="bg-white border-4 border-black p-8 shadow-[8px_8px_0px_#000] hover:translate-x-1 hover:translate-y-1 hover:shadow-[4px_4px_0px_#000] transition-all duration-200">
                    <div class="text-6xl mb-6">üé´</div>
                    <h3 class="font-display text-2xl font-black mb-4 uppercase">Edi√ß√£o F√≠sica Limitada</h3>
                    <p class="font-sans text-gray-700 leading-relaxed mb-4">Bilhete f√≠sico real. Levanta o teu exemplar na nossa rece√ß√£o no Campo Grande (Av. do Brasil 7) para ofereceres no Natal.</p>
                    <a href="https://www.google.com/maps/search/?api=1&query=Av.+do+Brasil+7,+Lisboa" target="_blank" class="text-black font-bold underline hover:text-brand-gold">üìç Ver Localiza√ß√£o</a>
                </div>

                <!-- Feature 2 -->
                <div class="bg-brand-gold border-4 border-black p-8 shadow-[8px_8px_0px_#000] hover:translate-x-1 hover:translate-y-1 hover:shadow-[4px_4px_0px_#000] transition-all duration-200">
                    <div class="text-6xl mb-6">üèãÔ∏è‚Äç‚ôÇÔ∏è</div>
                    <h3 class="font-display text-2xl font-black mb-4 uppercase">Acesso Premium Total</h3>
                    <p class="font-sans text-black font-bold leading-relaxed">3 aulas em qualquer modalidade: Be Water, Boxe, Muay Thai, Jiu-Jitsu ou Open Gym.</p>
                </div>

                <!-- Feature 3 -->
                <div class="bg-white border-4 border-black p-8 shadow-[8px_8px_0px_#000] hover:translate-x-1 hover:translate-y-1 hover:shadow-[4px_4px_0px_#000] transition-all duration-200">
                    <div class="text-6xl mb-6">üöÄ</div>
                    <h3 class="font-display text-2xl font-black mb-4 uppercase">Kickstart 2025</h3>
                    <p class="font-sans text-gray-700 leading-relaxed">A motiva√ß√£o que faltava. Come√ßa o ano novo com disciplina de ferro e numa comunidade que te puxa para cima.</p>
                </div>
            </div>

        </div>
    </section>

    <!-- 4. Sec√ß√£o Parceria SALGUEIRO -->
    <section class="py-24 bg-black relative overflow-hidden">
        <!-- Background Elements -->
        <div class="absolute top-0 right-0 w-1/2 h-full bg-neutral-900/30 skew-x-12 transform origin-top"></div>

        <div class="container mx-auto px-4 relative z-10">
            
            <div class="max-w-6xl mx-auto bg-neutral-900 border-4 border-brand-gold p-1">
                <div class="flex flex-col md:flex-row bg-black">
                    
                    <!-- Imagem Salgueiro -->
                    <div class="w-full md:w-1/2 relative min-h-[400px]">
                        <img src="../src/images/gallery/gallery6_optimized.webp" 
                             alt="Salgueiro no Gin√°sio Be Water" 
                             class="absolute inset-0 w-full h-full object-cover filter grayscale contrast-125 mix-blend-luminosity"
                             onerror="this.src='https://placehold.co/600x600/222/555?text=FOTO+SALGUEIRO'">
                        <!-- Overlay Gradient -->
                        <div class="absolute inset-0 bg-gradient-to-r from-black/80 to-transparent md:bg-gradient-to-t"></div>
                        
                        <div class="absolute bottom-6 left-6">
                            <span class="bg-brand-gold text-black font-bold px-3 py-1 text-sm uppercase tracking-wider">Parceiro Oficial</span>
                        </div>
                    </div>

                    <!-- Conte√∫do -->
                    <div class="w-full md:w-1/2 p-8 md:p-16 flex flex-col justify-center text-left">
                        
                        <h2 class="font-display text-4xl md:text-5xl font-black text-white mb-4 uppercase leading-none italic">
                            Vantagem Parceiro <span class="text-brand-gold">Salgueiro</span>
                        </h2>
                        <p class="font-sans text-gray-400 mb-10 text-lg">
                            Aproveita o c√≥digo do Salgueiro para teres descontos imediatos no parceiro <img src="https://www.prozis.com/favicon.ico" alt="Prozis" class="inline-block h-5 w-5 mb-1 mx-1 align-middle filter grayscale hover:grayscale-0 transition-all"> <strong>PROZIS</strong>. Aberto a todos.
                        </p>

                        <!-- Caixa PROZIS -->
                        <div class="bg-neutral-900 p-8 border-2 border-dashed border-gray-700 relative">
                            <div class="absolute -top-3 -left-3 bg-black border border-gray-700 px-2 py-1 text-xs font-mono text-gray-400">PROMO CODE</div>
                            
                            <div class="flex items-center justify-between mb-6">
                                <span class="font-display font-black text-white text-2xl tracking-widest">PROZIS</span>
                            </div>
                            
                            <div class="flex gap-4">
                                <a href="http://prozis.com/5xD" target="_blank" class="flex-1 bg-black border border-gray-700 p-4 flex items-center justify-center hover:border-brand-gold transition-colors cursor-pointer group">
                                    <code class="font-mono text-2xl text-white font-bold tracking-widest group-hover:text-brand-gold">PROZIS.COM/5XD</code>
                                </a>
                                <a href="http://prozis.com/5xD" target="_blank" class="bg-white text-black font-bold uppercase px-6 py-4 hover:bg-brand-gold transition-colors flex items-center">
                                    GO ->
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </section>

    <!-- 5. Checkout Section -->
    <section id="checkout" class="py-24 bg-brand-gold text-black border-t-4 border-black relative z-30">
        <div class="container mx-auto px-4">
            <div class="max-w-3xl mx-auto bg-white border-4 border-black p-8 md:p-12 shadow-[16px_16px_0px_#000]">
                
                <div class="text-center mb-12">
                    <h2 class="font-display text-4xl md:text-5xl font-black uppercase mb-4">Checkout</h2>
                    <p class="font-sans text-lg font-bold">Preenche os dados para receberes o pagamento MB WAY no teu telem√≥vel.</p>
                </div>

                <form id="paymentForm" class="space-y-6">
                    <input type="hidden" name="amount" value="30.00">
                    <input type="hidden" name="produto_id" value="GOLDEN_TICKET_2024">

                    <!-- Nome -->
                    <div>
                        <label class="block font-display font-black uppercase text-xl mb-2">Nome Completo *</label>
                        <input type="text" name="nome" required 
                               class="w-full bg-gray-100 border-4 border-black p-4 font-mono text-lg focus:outline-none focus:bg-white focus:shadow-[4px_4px_0px_#000] transition-all"
                               placeholder="O teu nome de guerreiro">
                    </div>

                    <!-- Email -->
                    <div>
                        <label class="block font-display font-black uppercase text-xl mb-2">Email *</label>
                        <input type="email" name="email" required 
                               class="w-full bg-gray-100 border-4 border-black p-4 font-mono text-lg focus:outline-none focus:bg-white focus:shadow-[4px_4px_0px_#000] transition-all"
                               placeholder="para_receberes_o_ticket@email.com">
                    </div>

                    <!-- Telem√≥vel -->
                    <div>
                        <label class="block font-display font-black uppercase text-xl mb-2">Telem√≥vel (MB WAY) *</label>
                        <input type="tel" name="phone" required pattern="[9][0-9]{8}"
                               class="w-full bg-gray-100 border-4 border-black p-4 font-mono text-lg focus:outline-none focus:bg-white focus:shadow-[4px_4px_0px_#000] transition-all"
                               placeholder="912345678">
                        <p class="text-sm font-mono mt-2 text-gray-600">* N√∫mero associado ao MB WAY</p>
                    </div>

                    <!-- NIF -->
                    <div>
                        <label class="block font-display font-black uppercase text-xl mb-2">NIF (Opcional)</label>
                        <input type="text" name="nif" pattern="[0-9]{9}"
                               class="w-full bg-gray-100 border-4 border-black p-4 font-mono text-lg focus:outline-none focus:bg-white focus:shadow-[4px_4px_0px_#000] transition-all"
                               placeholder="Para fatura com contribuinte">
                    </div>

                    <!-- Submit Button -->
                    <div class="pt-4">
                        <button type="submit" id="submitBtn" class="w-full bg-black text-white font-display font-black text-2xl py-6 uppercase border-4 border-transparent hover:bg-brand-gold hover:text-black hover:border-black transition-all shadow-[8px_8px_0px_#666] hover:shadow-[8px_8px_0px_#000] relative overflow-hidden group">
                            <span class="relative z-10">Pagar 30‚Ç¨ ‚Ä¢ MB WAY</span>
                        </button>
                    </div>
                    
                    <!-- Status Message -->
                    <div id="statusMessage" class="hidden p-6 border-4 border-black text-center font-bold mt-6"></div>
                </form>

            </div>
        </div>
    </section>

    <script>
        document.getElementById('paymentForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const btn = document.getElementById('submitBtn');
            const statusDiv = document.getElementById('statusMessage');
            const originalText = btn.innerHTML;
            
            // Loading state
            btn.disabled = true;
            btn.innerHTML = '<span class="relative z-10">A PROCESSAR...</span>';
            statusDiv.classList.add('hidden');
            statusDiv.className = 'hidden p-6 border-4 border-black text-center font-bold mt-6'; // Reset classes

            const formData = new FormData(this);
            const data = Object.fromEntries(formData.entries());

            try {
                // 1. Disparar notifica√ß√£o para Formspark (Staff)
                // N√£o esperamos pela resposta para n√£o bloquear o UX, mas garantimos o envio
                fetch('https://submit-form.com/v7DDgdLmZ', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify({
                        _subject: 'NOVO PEDIDO GOLDEN TICKET',
                        ...data,
                        timestamp: new Date().toISOString()
                    })
                }).catch(err => console.error('Erro Formspark:', err));

                // 2. Processar Pagamento MB WAY
                // Use absolute URL for production reliability or relative if on same domain
                // Using relative path to netlify function
                const response = await fetch('/.netlify/functions/mbway-payment', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });

                const result = await response.json();

                statusDiv.classList.remove('hidden');
                
                if (result.success) {
                    statusDiv.classList.add('bg-green-100');
                    statusDiv.innerHTML = `
                        <div class="text-4xl mb-6 animate-bounce">üì±</div>
                        <div class="text-3xl font-black mb-6 text-green-800 uppercase tracking-tighter">Pedido Enviado!</div>
                        
                        <div class="text-left space-y-6 font-mono text-base md:text-lg">
                            
                            <!-- PASSO 1: DESTAQUE M√ÅXIMO -->
                            <div class="bg-white border-4 border-black p-6 shadow-[8px_8px_0px_rgba(0,0,0,0.2)] transform rotate-[-1deg]">
                                <p class="font-bold text-xl mb-2">‚ö° A√á√ÉO NECESS√ÅRIA AGORA:</p>
                                <p class="leading-tight">Abre a app MB WAY e confirma o pagamento de 30‚Ç¨.</p>
                            </div>

                            <!-- Outros passos -->
                            <div class="opacity-75 space-y-4 pl-2">
                                <p>‚è≥ <strong>A seguir:</strong> A equipa valida o pagamento (pode demorar um pouco).</p>
                                <p>üìß <strong>Recebes:</strong> O Golden Ticket virtual no teu email.</p>
                                <p>üéÅ <strong>F√≠sico:</strong> Podes levantar o cart√£o dourado na rece√ß√£o.</p>
                            </div>
                        </div>
                    `;
                    
                    // Scroll suave at√© √† mensagem
                    statusDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    
                    this.reset();
                } else {
                    throw new Error(result.message || 'Erro ao processar pagamento');
                }

            } catch (error) {
                console.error('Erro:', error);
                statusDiv.classList.add('bg-red-100');
                statusDiv.innerHTML = `
                    <div class="text-xl mb-2">‚ùå OOPS!</div>
                    <p>${error.message}</p>
                    <p class="text-sm mt-2">Tenta novamente ou contacta-nos.</p>
                `;
            } finally {
                btn.disabled = false;
                btn.innerHTML = originalText;
            }
        });
    </script>

    <!-- 5. Footer -->
    <footer class="bg-brand-black border-t border-gray-800 pt-16 pb-8">
        <div class="container mx-auto px-4 text-center">
            
            <div class="font-display font-black text-4xl text-white mb-8 tracking-tighter uppercase">Be Water</div>
            
            <div class="flex justify-center gap-8 mb-8 font-mono text-sm">
                <a href="https://www.instagram.com/bewaterlisboa" target="_blank" class="text-gray-500 hover:text-white uppercase transition-colors">Instagram</a>
                <a href="https://facebook.com/asdicasdosalgueiro" target="_blank" class="text-gray-500 hover:text-white uppercase transition-colors">Facebook</a>
                <a href="https://wa.me/351933869791" target="_blank" class="text-gray-500 hover:text-white uppercase transition-colors">Whatsapp</a>
                <a href="../index.html" class="text-gray-500 hover:text-white uppercase transition-colors">Site Oficial</a>
            </div>

            <div class="border-t border-gray-900 pt-8 flex flex-col md:flex-row justify-between items-center text-xs text-gray-600 font-mono uppercase">
                <p>üìç Marvila, Lisboa</p>
                <p>¬© 2023 Be Water Gym. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

</body>
</html>
